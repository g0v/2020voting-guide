# Citizen Congress Watch Data Parser

[Data Source](https://drive.google.com/drive/folders/1Mxch7psIix_tItg2M0PbkWcE0ywU-DWy)

## Usage


### Excel Parser

以下為 "評鑑結果" 以及 "黨團幹部" 之 json 檔產生方式，"言行脫序"與 "資訊揭露" 為手動下載為 csv 後直接轉 json，並未有轉換 script

產生 評鑑結果 json 檔
```lan=shell
python __main__.py
```

產生 黨團幹部 json 檔
```lan=shell
python group_info.py
```

產生 統計數值 json 檔 (ccw.json)
```lan=shell
python data_extract.py
```

### Web Parser
產生 官網 公督盟數據

產生 優秀立委, 待觀察立委次數 (ccw_count.json) 以及 各會期各各立委參與率(ccw_full.json)
```
python web_parser/__main__.py
```

### 合併法案參與率 與 優秀立委次數資訊
產生最終 個人公督盟數據 以及 政黨公督盟數據
```
python merge_excel_web/__main__.py
```


## Format

data/static/evaluation.json

- evaluation: 評鑑結果
- group: 黨團幹部
- expose: 資訊揭露
- event: 言行脫序事件

> rate 底下之數字 1 表示是第一會期

```lan=json
{
  "evaluation":   [
        {
            "name": "林麗蟬",
            "group": "中國國民黨",
            "rate": {
                "1": {
                    "內政委員會": {
                        "A1.院會（出席／應出席）_0.03": "20／20",
                        ...
                    }
                }
                ...
            }
        }
        ...
  ]
  "group":  [
        {
            "name": "柯建銘",
            "group": "民進黨團",
            "rate": {
                "3": {
                    "黨團幹部": {
                        "A1.院會_出席/應出席": "15/15",
                    }
                ...
            }
        }
        ...
  ]
  "expose": {
        "1": null,
        "2": null,
        "3": null,
        "4": null,
        "5": null,
        "6": {
            "內政委員會": [
                {
                    "序號": 1,
                    "題目委員": "吳琪銘",
                    "所屬政黨": "民主進步黨",
                    "本人現擔任營利事業之決策參與者": "無",
                    "現有關係人擔任營利事業之決策參與者": "無",
                    "本人現執行專門職業之職務": "無",
                    "本人現為專門職業機構之負責人": "無",
                    "本人現擔任非營利組織之職位": "有，財團法人臺灣民主基金會，董事",
                    "本人目前所聘任的公費助理中，有多少位三等親之內的親屬": "有，1位",
                    "本人所聘助理勞動條件皆符合勞動基準法標準": "是",
                    "本人聘之助理平均每周工時幾小時": "40小時",
                    "本人辦公室主任姓名，立法院公費助理人數共幾位(國會辦公室、服務處分別幾位)": "姓名林麗玉，公費助理12位(國會辦公室6位，包含法案助理6位；服務處6位)",
                    "本人公費助理每月平均經常性薪資多少": "$34,300",
                    "資訊揭露加分": 6
                },
                ...
            ]
            ...
        }
  }
  "event":  {
        "言行脫序": {
            "1": null,
            "2": null,
            "3": null,
            "4": [
                {
                    "編號": 1,
                    "日期/事件": "2017/09/20",
                    "委員姓名": "陳明文",
                    "資料來源": "《自由時報》",
                    "事件內容": "嘉義縣縣長張花冠控告立委陳明文搭肩涉及性騷擾、恐嚇，檢方表示已分案調查。",
                    "決議": "成案，待司法判決後再行討論。"
                },
                ...
            ]
            ...
        }
    }
}
```

data/static/ccw.json

```
{
    "林麗蟬": {
        "engagementList": {
            "1": "18/23",
            "2": "25/29",
            "3": "17/20",
            "4": "28/29",
            "5": "6/10",
            "6": "21/22",
            "7": "17/19"
        },
        "engagementRate": 0.8428571428571429,
        "excellentLegislatorNum": 0,
        "observedLegislatorNum": 0
    },
    ...
```

## Remarks

- 有些評鑑項目在不同會期可能會分成兩個數字呈現
e.g. D4
```
"D4.脫序表現/院內與院外_院內：Max-2/筆": 0,
"D4.脫序表現/院內與院外_院外：Max-1/筆": 0,
```

- 第一會期 D2-1評鑑項目並沒有評比比重，此部分比重為空白
```
"D2-1.黨團幹部主提陽光公益法案_D2-1": null,
```
